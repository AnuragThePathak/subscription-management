# Subscription Management Service

A robust Go-based subscription management system for handling user subscriptions, billing, and authentication.

## Overview

This project provides a complete backend service for managing user subscriptions, with features for authentication, subscription lifecycle management, billing, and notifications.

## Features

- User authentication and authorization
- Subscription creation, management, and tracking
- Automated billing
- Email notifications for subscription events
- Rate limiting for API protection
- Background job processing with scheduler and worker components

## Project Structure

```
ðŸ“¦ 
â”œâ”€Â .gitignore
â”œâ”€Â go.mod
â”œâ”€Â go.sum
â”œâ”€Â internal
â”‚Â Â â”œâ”€Â adapters
â”‚Â Â â”‚Â Â â”œâ”€Â database.go
â”‚Â Â â”‚Â Â â”œâ”€Â redis.go
â”‚Â Â â”‚Â Â â”œâ”€Â scheduler.go
â”‚Â Â â”‚Â Â â”œâ”€Â server.go
â”‚Â Â â”‚Â Â â””â”€Â worker.go
â”‚Â Â â”œâ”€Â api
â”‚Â Â â”‚Â Â â”œâ”€Â controllers
â”‚Â Â â”‚Â Â â”‚Â Â â”œâ”€Â auth.go
â”‚Â Â â”‚Â Â â”‚Â Â â”œâ”€Â subscriptions.go
â”‚Â Â â”‚Â Â â”‚Â Â â””â”€Â user.go
â”‚Â Â â”‚Â Â â”œâ”€Â middlewares
â”‚Â Â â”‚Â Â â”‚Â Â â”œâ”€Â auth.go
â”‚Â Â â”‚Â Â â”‚Â Â â””â”€Â rate_limiter.go
â”‚Â Â â”‚Â Â â””â”€Â shared
â”‚Â Â â”‚Â Â Â Â Â â”œâ”€Â apperror
â”‚Â Â â”‚Â Â Â Â Â â”‚Â Â â”œâ”€Â error.go
â”‚Â Â â”‚Â Â Â Â Â â”‚Â Â â””â”€Â factory.go
â”‚Â Â â”‚Â Â Â Â Â â”œâ”€Â config
â”‚Â Â â”‚Â Â Â Â Â â”‚Â Â â”œâ”€Â config.go
â”‚Â Â â”‚Â Â Â Â Â â”‚Â Â â”œâ”€Â configure.go
â”‚Â Â â”‚Â Â Â Â Â â”‚Â Â â””â”€Â helper.go
â”‚Â Â â”‚Â Â Â Â Â â””â”€Â endpoint
â”‚Â Â â”‚Â Â Â Â Â Â Â Â â”œâ”€Â endpoint.go
â”‚Â Â â”‚Â Â Â Â Â Â Â Â â”œâ”€Â internal_request.go
â”‚Â Â â”‚Â Â Â Â Â Â Â Â â””â”€Â response.go
â”‚Â Â â”œâ”€Â domain
â”‚Â Â â”‚Â Â â”œâ”€Â models
â”‚Â Â â”‚Â Â â”‚Â Â â”œâ”€Â auth.go
â”‚Â Â â”‚Â Â â”‚Â Â â”œâ”€Â bill.go
â”‚Â Â â”‚Â Â â”‚Â Â â”œâ”€Â subscription.go
â”‚Â Â â”‚Â Â â”‚Â Â â””â”€Â user.go
â”‚Â Â â”‚Â Â â”œâ”€Â repositories
â”‚Â Â â”‚Â Â â”‚Â Â â”œâ”€Â bill.go
â”‚Â Â â”‚Â Â â”‚Â Â â”œâ”€Â subscription.go
â”‚Â Â â”‚Â Â â”‚Â Â â””â”€Â user.go
â”‚Â Â â”‚Â Â â””â”€Â services
â”‚Â Â â”‚Â Â Â Â Â â”œâ”€Â auth.go
â”‚Â Â â”‚Â Â Â Â Â â”œâ”€Â jwt.go
â”‚Â Â â”‚Â Â Â Â Â â”œâ”€Â rate_limiter.go
â”‚Â Â â”‚Â Â Â Â Â â”œâ”€Â subscription.go
â”‚Â Â â”‚Â Â Â Â Â â””â”€Â user.go
â”‚Â Â â”œâ”€Â lib
â”‚Â Â â”‚Â Â â”œâ”€Â auth.go
â”‚Â Â â”‚Â Â â”œâ”€Â mongo.go
â”‚Â Â â”‚Â Â â””â”€Â time.go
â”‚Â Â â”œâ”€Â notifications
â”‚Â Â â”‚Â Â â”œâ”€Â email_sender.go
â”‚Â Â â”‚Â Â â””â”€Â email_template.go
â”‚Â Â â””â”€Â scheduler
â”‚Â Â Â Â Â â”œâ”€Â scheduler.go
â”‚Â Â Â Â Â â””â”€Â worker.go
â””â”€Â main.go
```
Â©generated by [Project Tree Generator](https://woochanleee.github.io/project-tree-generator)

## Technologies

- Go (Golang)
- MongoDB for persistent storage
- Redis for caching and rate limiting
- JWT for authentication
- RESTful API design

## Getting Started

### Prerequisites

- Go 1.21 or later
- MongoDB
- Redis

### Installation

1. Clone the repository
   ```bash
   git clone https://github.com/AnuragThePathak/subscription-management.git
   cd subscription-management
   ```

2. Install dependencies
   ```bash
   go mod download
   ```

3. Configure the application
   Create a `config.yaml` file based on the example configuration provided in the repository.

4. Run the application
   ```bash
   go run main.go
   ```

## API Documentation

The API supports the following endpoints:

- **Authentication**
  - `POST /api/v1/auth/register` - Register a new user
  - `POST /api/v1/auth/login` - Log in an existing user
  - `POST /api/v1/auth/refresh` - Refresh authentication token
    
- **Users**
  - `GET /api/v1/users` - List users
  - `GET /api/v1/users/:id` - Get user information
  - `PUT /api/v1/users/:id` - Update user information
  - `DELETE /api/v1/users/:id` - Delete user
    
- **Subscriptions**
  - `GET /api/v1/subscriptions` - List subscriptions
  - `POST /api/v1/subscriptions` - Create a new subscription
  - `GET /api/v1/subscriptions/:id` - Get subscription details
  - `GET /api/v1/subscriptions/user/:id` - List subscriptions for a user
  - `PUT /api/v1/subscriptions/:id/cancel` - Cancel a subscription
  - `DELETE /api/v1/subscriptions/:id` - Delete a subscription

## Development

### Testing

Run the tests with:

```bash
go test ./...
```

### Building

Build the application with:

```bash
go build -o subscription-service
```

## License

This project is licensed under the MIT License - see the LICENSE file for details.

## Contributing

1. Fork the repository
2. Create your feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add some amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request
